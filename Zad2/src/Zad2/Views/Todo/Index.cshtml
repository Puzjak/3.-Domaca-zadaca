@using Models
@model System.Collections.Generic.List<Models.TodoItem>

<!DOCTYPE html>

<html>


<head>
    <title>Todo Home Page</title>
    <style type="text/css">
        .bb {
            border-bottom: solid 1px black;
        }
    </style>  
</head>

<body>
    <h1>Active Todo</h1>
    @if (Model.Count == 0)
    {
        <p>
            <b>There are no active todos.</b><br/>
            <a asp-action="NewItem">Add new todo</a>
            <a asp-action="GetCompleted">See completed todos</a>
        </p>
    }
    else
    {
        
        <table>            
            @foreach (var item in Model)
            {
                <tr class="bb">
                    <td>
                        <p>
                            <br/>
                            <b>@item.Text</b><br/>
                            @item.DateCreated.ToShortDateString()<br/>
                            <a asp-action="MarkAsCompleted" asp-controller="Todo" asp-route-id="@item.Id">Mark as completed</a>
                        </p>
                    </td>
                </tr>
            }
        </table>
    }
</body>

</html>
